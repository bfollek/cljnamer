(ns cljnamer.main
  (:require ["package:flutter/material.dart" :as m]
            ["package:english_words/english_words.dart" :as ew]
            [cljd.flutter :as f]))

(defonce app-state (atom {:current (.random ew/WordPair)}))

(def my-home-page
  (f/widget
   :let [pair (:current @app-state)
         first-word (.-first pair)
         second-word (.-second pair)]
   (m/Scaffold
    .body
    (m/Column
     .children [(m/Text "A random idea:")
                (m/Text (str first-word second-word))]))))

(defn main []
  (f/run
   (m/MaterialApp
    .title "ClojureDot Namer App"
    ;.theme theme
    .home my-home-page)))
